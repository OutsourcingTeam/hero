!function(){function t(t,n){if(n.stopPropagation(),n.preventDefault(),!transform_set.running){var o=s[c],r=o.scrollTop,a=o.clientHeight,u=o.scrollHeight;if(scrollTy=r,r=o.scrollTop=o.scrollTop+t,o.scrollTop+a>=u&&"touchmove"!==n.type)transform_set(o,Math.abs(t)/(t||1));else if(!o.scrollTop&&0>t)transform_set(o,-1);else{var f=e(".outstanding",o);e("label",i).forEach(function(t,e){osd=f[e],t.style.cssText="position:absolute;width:"+osd.offsetWidth+"px;height:"+osd.offsetHeight+"px;left:"+osd.offsetLeft+"px;top:"+(osd.offsetTop-o.scrollTop)+"px;cursor:pointer;"})}l[c].forEach(function(e){if("function"==typeof e.run)e.run(o.scrollTop==u-a?1:o.scrollTop/(u-a),t);else if("function"==typeof e.set){var n=[],i={begin:function(t){return t.per=0,n.push(t),this},end:function(t){return t.per=1,n.push(t),this},then:function(t){return n.push(t),this}},r=e.offsetWidth,l=e.offsetHeight,f=document.documentElement.clientWidth,d=document.documentElement.clientHeight;e.set(i,r,l,f,d),e.run=function(t,e){for(var o=1;o<n.length;o++)if(n[o-1].per<=t&&n[o].per>=t){var i=n[o-1],r=n[o],a=(t-i.per)/(r.per-i.per),l=i.x+(r.x-i.x)*a||0,u=i.y+(r.y-i.y)*a+s[c].scrollTop||0,f=i.opacity+(r.opacity-i.opacity)*a,d=i.scale+(r.scale-i.scale)*a,p=i.rotate+(r.rotate-i.rotate)*a,d=isNaN(d)?1:d;p=isNaN(p)?0:p;var h="-webkit-transform: scale("+d+") translate3d("+l+"px, "+u+"px, 0) rotate("+p+"deg);transform: scale("+d+") translate3d("+l+"px, "+u+"px, 0) rotate("+p+"deg);"+(isNaN(f)?"":"opacity: "+f+";");return void(this.style.cssText=h)}},e.run(o.scrollTop==u-a?1:o.scrollTop/(u-a),t)}})}}var e=function(t,e){return[].slice.call((e||document).querySelectorAll(t))},n=e(".cover")[0],o=e("#container")[0],s=e("#container > section"),i=document.createElement("div"),c=0,r=function(t,e){return"-webkit-transform: translate3d("+(0|e)+"px, "+(0|t)+"px, 0); transform: translate3d("+(0|e)+"px, "+(0|t)+"px, 0);"};i.style.cssText="position: absolute;width: 100%;height: 100%;left: 0;top: 0;z-index: 1;",o.appendChild(i),e.on=function(t,n,o){return[].concat(t).forEach(function(t){n.split(/\W+/).forEach(function(e){t.addEventListener(e,o,!1)})}),e},window.transform_set=function(t,o){function a(){return o&&c===o?void(transform_set.running=!1):(s.forEach(function(t,e){switch(e){case o:c=o,t.style.cssText=r(),t.setAttribute("data-pos","current"),setTimeout(function(){t.style.zIndex=1},0);break;case o+1:t.style.cssText=r(l,3),t.setAttribute("data-pos","next"),setTimeout(function(){t.style.zIndex=3},0);break;case o-1:t.style.cssText=r(-l,3),t.setAttribute("data-pos","prev"),setTimeout(function(){t.style.zIndex=3},0);break;default:t.style.cssText=r(e>o?l:-l),t.removeAttribute("data-pos"),setTimeout(function(){t.style.zIndex=1},0)}}),i.innerHTML="",e(".outstanding",s[c]).forEach(function(t){var n=document.createElement("label");n.style.cssText="position:absolute;width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;left:"+t.offsetLeft+"px;top:"+(t.offsetTop-s[c].scrollTop)+"px;cursor:pointer;",e.on(n,"click touchstart",function(e){e.stopPropagation(),e.preventDefault(),t.click&&t.click()}),i.appendChild(n)}),void setTimeout(function(){transform_set.running=!1},200))}var l=document.documentElement.clientHeight;"undefined"==typeof o?o=0|t:"number"!=typeof t&&(o=s.indexOf(t)+o),o=Math.min(Math.max(0,o),s.length-1),transform_set.running=!0,s[o].classList.contains("with-cover")?(n.style.cssText=r(0),setTimeout(a,500),setTimeout(function(){n.style.cssText=r(0,document.documentElement.clientWidth)},1e3)):setTimeout(a,0)},transform_set.running=!1,transform_set(0),e.on(window,"resize",function(){window.transform_set(0)}),all_images=[].slice.call(conf.all_images||[]);var a=20,l=[],u=function(){s.forEach(function(t,n){var o=document.createElement("div"),s=t.getAttribute("data-bg");o.style.cssText="position:absolute;width:100%;left:0;top:0;z-index:-1;height:"+(Math.ceil((t.scrollHeight-t.clientHeight)/a)*a+t.clientHeight)+"px;background:"+(s||"none")+";",t.insertBefore(o,t.firstChild),l[n]=e(".run",t)}),conf.ready()},f=0;all_images.forEach(function(t){var e=document.createElement("img");e.onload=e.onerror=function(){f+=1,f===all_images.length&&setTimeout(function(){n.style.cssText=r(0,document.documentElement.clientWidth),u()},300)}}),all_images.length||setTimeout(function(){n.style.cssText=r(0,document.documentElement.clientWidth),u()},300);var d,p;e.on(i,"touchstart",function(t){var e=t.touches[0];d=p=e.clientY}).on(i,"touchmove",function(e){var n=e.changedTouches[0],o=n.clientY;t(p-o,e),p=o}).on(i,"touchend",function(e){var n=e.changedTouches[0],o=n.clientY;t(d>o?1:-1,e),d=p=o=0}).on(document,"keydown",function(e){switch(e.keyCode){case 32:case 39:case 40:t(a,e);break;case 37:case 38:t(-a,e)}}).on(document,"mousewheel",function(e){t(e.wheelDeltaY<0?a:-a,e)})}();