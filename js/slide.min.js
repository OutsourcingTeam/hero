!function(){function t(t,e){if(e.stopPropagation(),e.preventDefault(),!transform_set.running){var n=i[s],o=n.scrollTop,c=n.clientHeight,r=n.scrollHeight;scrollTy=o,o=n.scrollTop=n.scrollTop+t,n.scrollTop+c>=r&&"touchmove"!==e.type?transform_set(n,Math.abs(t)/(t||1)):!n.scrollTop&&0>t?transform_set(n,-1):l[s].forEach(function(e){"function"==typeof e.run&&e.run(n.scrollTop==r-c?1:n.scrollTop/(r-c),t)})}}var e=function(t,e){return[].slice.call((e||document).querySelectorAll(t))},n=e(".cover")[0],o=e("#container")[0],i=e("#container > section"),c=document.createElement("div"),s=0,r=function(t,e){return"-webkit-transform: translate("+(0|e)+"px, "+(0|t)+"px); transform: translate("+(0|e)+"px, "+(0|t)+"px);"};c.style.cssText="position: absolute;width: 100%;height: 100%;left: 0;top: 0;z-index: 1;",o.appendChild(c),e.on=function(t,n,o){return[].concat(t).forEach(function(t){n.split(/\W+/).forEach(function(e){t.addEventListener(e,o,!1)})}),e},window.transform_set=function(t,a){function l(){return a&&s===a?void(transform_set.running=!1):(i.forEach(function(t,e){switch(e){case a:s=a,t.style.cssText=r(),t.setAttribute("data-pos","current"),setTimeout(function(){t.style.zIndex=1},0);break;case a+1:t.style.cssText=r(u,3),t.setAttribute("data-pos","next"),setTimeout(function(){t.style.zIndex=3},0);break;case a-1:t.style.cssText=r(-u,3),t.setAttribute("data-pos","prev"),setTimeout(function(){t.style.zIndex=3},0);break;default:t.style.cssText=r(e>a?u:-u),t.removeAttribute("data-pos"),setTimeout(function(){t.style.zIndex=1},0)}}),c.innerHTML="",e(".outstanding",i[s]).forEach(function(t){var n=document.createElement("label");n.style.cssText="position:absolute;width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;left:"+(t.offsetLeft-o.offsetLeft)+"px;top:"+t.offsetTop+"px;cursor:pointer;",e.on(n,"click touchstart",function(e){e.stopPropagation(),e.preventDefault(),t.click&&t.click()}),c.appendChild(n)}),void setTimeout(function(){transform_set.running=!1},200))}var u=document.documentElement.clientHeight;"undefined"==typeof a?a=0|t:"number"!=typeof t&&(a=i.indexOf(t)+a),a=Math.min(Math.max(0,a),i.length-1),transform_set.running=!0,i[a].classList.contains("with-cover")?(n.style.cssText=r(0),setTimeout(l,500),setTimeout(function(){n.style.cssText=r(0,document.documentElement.clientWidth)},1e3)):setTimeout(l,0)},transform_set.running=!1,transform_set(0),e.on(window,"resize",function(){window.transform_set(0)}),all_images=[].slice.call(conf.all_images||[]);var a=20,l=[],u=function(){i.forEach(function(t,n){var o=document.createElement("div"),i=t.getAttribute("data-bg");o.style.cssText="position:absolute;width:100%;left:0;top:0;height:"+(Math.ceil((t.scrollHeight-t.clientHeight)/a)*a+t.clientHeight)+"px;background-image:"+(i?"url("+i+");":"none;"),t.insertBefore(o,t.firstChild),l[n]=e(".run",t)}),conf.ready()},f=0;all_images.forEach(function(t){var e=document.createElement("img");e.onload=e.onerror=function(){f+=1,f===all_images.length&&setTimeout(function(){n.style.cssText=r(0,document.documentElement.clientWidth),u()},300)}}),all_images.length||setTimeout(function(){n.style.cssText=r(0,document.documentElement.clientWidth),u()},300);var d,m;e.on(c,"touchstart",function(t){var e=t.touches[0];d=m=e.clientY}).on(c,"touchmove",function(e){var n=e.changedTouches[0],o=n.clientY;t(m-o,e),m=o}).on(c,"MSPointerOut",function(e){t(e.clientY>document.documentElement.clientHeight/2?5*a:10*-a,e)}).on(c,"touchend",function(e){if(!window.navigator.msPointerEnabled){var n=e.changedTouches[0],o=n.clientY;t(d>o?1:-1,e),d=m=o=0}}).on(document,"keydown",function(e){switch(e.keyCode){case 32:case 39:case 40:t(a,e);break;case 37:case 38:t(-a,e)}}).on(document,"mousewheel",function(e){t(e.wheelDeltaY<0?a:-a,e)})}();