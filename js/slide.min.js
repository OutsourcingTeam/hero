!function(){function t(t,n){if(n.stopPropagation(),n.preventDefault(),!transform_set.running){var o=s[i],c=o.scrollTop,a=o.clientHeight,f=o.scrollHeight;if(scrollTy=c,c=o.scrollTop=o.scrollTop+t,o.scrollTop+a>=f&&"touchmove"!==n.type)transform_set(o,0|o.getAttribute("data-next")||Math.abs(t)/(t||1));else if(!o.scrollTop&&0>t)transform_set(o,0|o.getAttribute("data-prev")||-1);else{var u=e(".outstanding",o);e("label",r).forEach(function(t,e){osd=u[e],t.style.cssText="position:absolute;width:"+osd.offsetWidth+"px;height:"+osd.offsetHeight+"px;left:"+osd.offsetLeft+"px;top:"+(osd.offsetTop-o.scrollTop)+"px;cursor:pointer;"})}l[i].forEach(function(e){if("function"==typeof e.run){var n=o.scrollTop==f-a?1:o.scrollTop/(f-a);e.filter=e.filter||function(t){return!0},e.filter(n)?e.run(n,t):e.style.cssText=""}else if("function"==typeof e.set){var r=[],c={begin:function(t){return t.per=t.per||0,r.push(t),this},end:function(t){return t.per=t.per||1,r.push(t),this},then:function(t){return r.push(t),this}},l=e.offsetWidth,u=e.offsetHeight,p=document.documentElement.clientWidth,d=document.documentElement.clientHeight;e.set(c,l,u,p,d),e.filter=function(t){return t>=r[0].per&&t<=r[r.length-1].per},e.run=function(t,e){for(var n=1;n<r.length;n++)if(r[n-1].per<=t&&r[n].per>=t){var o=r[n-1],c=r[n],a=(t-o.per)/(c.per-o.per),l=o.x+(c.x-o.x)*a||0,f=o.y+(c.y-o.y)*a+s[i].scrollTop||0,u=o.opacity+(c.opacity-o.opacity)*a,p=o.scale+(c.scale-o.scale)*a,d=o.rotate+(c.rotate-o.rotate)*a,p=isNaN(p)?1:p;d=isNaN(d)?0:d;var h="-webkit-transform: scale("+p+") translate3d("+l+"px, "+f+"px, 0) rotate("+d+"deg);transform: scale("+p+") translate3d("+l+"px, "+f+"px, 0) rotate("+d+"deg);"+(isNaN(u)?"":"opacity: "+u+";");return void(this.style.cssText=h)}};var n=o.scrollTop==f-a?1:o.scrollTop/(f-a);e.filter(n)?e.run(n,t):e.style.cssText=""}})}}var e=function(t,e){return[].slice.call((e||document).querySelectorAll(t))},n=e(".cover")[0],o=e("#container")[0],s=e("#container > section"),r=document.createElement("div"),i=0,c=function(t,e){return"-webkit-transform: translate3d("+(0|e)+"px, "+(0|t)+"px, 0); transform: translate3d("+(0|e)+"px, "+(0|t)+"px, 0);"};r.style.cssText="position: absolute;width: 100%;height: 100%;left: 0;top: 0;z-index: 1;",o.appendChild(r),e.on=function(t,n,o){return[].concat(t).forEach(function(t){n.split(/\W+/).forEach(function(e){t.addEventListener(e,o,!1)})}),e},window.transform_set=function(t,o){function a(){return o&&i===o?void(transform_set.running=!1):(s[o].classList.contains("from-top")&&(s[o].scrollTop=0),s.forEach(function(t,e){switch(e){case o:i=o,t.style.cssText=c();break;case o+1:t.style.cssText=c(l);break;case o-1:t.style.cssText=c(-l);break;default:t.style.cssText=c(e>o?l:-l)}}),r.innerHTML="",e(".outstanding",s[i]).forEach(function(t){var n=document.createElement("label");n.style.cssText="position:absolute;width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;left:"+t.offsetLeft+"px;top:"+(t.offsetTop-s[i].scrollTop)+"px;cursor:pointer;",e.on(n,"click touchstart",function(e){e.stopPropagation(),e.preventDefault(),t.click&&t.click()}),r.appendChild(n)}),void setTimeout(function(){transform_set.running=!1},200))}var l=document.documentElement.clientHeight;"undefined"==typeof o?o=0|t:"number"!=typeof t&&(o=s.indexOf(t)+o),o=Math.min(Math.max(0,o),s.length-1),transform_set.running=!0,s[o].classList.contains("with-cover")?(n.style.cssText=c(0),setTimeout(a,500),setTimeout(function(){n.style.cssText=c(0,document.documentElement.clientWidth)},1e3)):setTimeout(a,0)},transform_set.running=!1,transform_set(0),e.on(window,"resize",function(){window.transform_set(0)}),all_images=[].slice.call(conf.all_images||[]);var a=20,l=[],f=function(){s.forEach(function(t,n){var o=document.createElement("div"),s=t.getAttribute("data-bg");o.style.cssText="position:absolute;width:100%;left:0;top:0;z-index:-1;height:"+(Math.ceil((t.scrollHeight-t.clientHeight)/a)*a+t.clientHeight)+"px;background:"+(s||"none")+";",t.insertBefore(o,t.firstChild),l[n]=e(".run",t)}),conf.ready()},u=0;all_images.forEach(function(t){var e=document.createElement("img");e.onload=e.onerror=function(){u+=1,u===all_images.length&&setTimeout(function(){f()},300)},e.src=t.src}),all_images.length||setTimeout(function(){f()},300);var p,d;e.on(r,"touchstart",function(t){var e=t.touches[0];p=d=e.clientY}).on(r,"touchmove",function(e){var n=e.changedTouches[0],o=n.clientY;t(1.5*(d-o),e),d=o}).on(r,"touchend",function(e){var n=e.changedTouches[0],o=n.clientY;t(p>o?1:-1,e),p=d=o=0}).on(document,"keydown",function(e){switch(e.keyCode){case 32:case 39:case 40:t(a,e);break;case 37:case 38:t(-a,e)}}).on(document,"mousewheel",function(e){t(e.wheelDeltaY<0?a:-a,e)})}();