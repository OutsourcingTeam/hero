!function(){function t(t,n){if(n.stopPropagation(),n.preventDefault(),!transform_set.running){var o=s[r],c=o.scrollTop,a=o.clientHeight,f=o.scrollHeight;if(scrollTy=c,c=o.scrollTop=o.scrollTop+t,o.scrollTop+a>=f&&"touchmove"!==n.type)transform_set(o,0|o.getAttribute("data-next")||Math.abs(t)/(t||1));else if(!o.scrollTop&&0>t)transform_set(o,0|o.getAttribute("data-prev")||-1);else{var u=e(".outstanding",o);e("label",i).forEach(function(t,e){osd=u[e],t.style.cssText="position:absolute;width:"+osd.offsetWidth+"px;height:"+osd.offsetHeight+"px;left:"+osd.offsetLeft+"px;top:"+(osd.offsetTop-o.scrollTop)+"px;cursor:pointer;"})}l[r].forEach(function(e){if("function"==typeof e.run){var n=o.scrollTop==f-a?1:o.scrollTop/(f-a);e.filter=e.filter||function(t){return!0},e.filter(n)?e.run(n,t):e.style.cssText=""}})}}var e=function(t,e){return[].slice.call((e||document).querySelectorAll(t))},n=e(".cover")[0],o=e("#container")[0],s=e("#container > section"),i=document.createElement("div"),r=0,c=function(t,e){return"-webkit-transform: translate3d("+(0|e)+"px, "+(0|t)+"px, 0); transform: translate3d("+(0|e)+"px, "+(0|t)+"px, 0);"};i.style.cssText="position: absolute;width: 100%;height: 100%;left: 0;top: 0;z-index: 1;",o.appendChild(i),e.on=function(t,n,o){return[].concat(t).forEach(function(t){n.split(/\W+/).forEach(function(e){t.addEventListener(e,o,!1)})}),e},window.transform_set=function(t,o){function a(){return o&&r===o?void(transform_set.running=!1):(s[o].classList.contains("from-top")&&(s[o].scrollTop=0),s.forEach(function(t,e){o===e?(r=o,s[o].classList.add("active"),t.style.cssText=c()):e>o?(s[o].classList.remove("active"),t.style.cssText=c(f)):(s[o].classList.remove("active"),t.style.cssText=c(-f))}),(l[r]||[]).forEach(function(t){t.run(0)}),i.innerHTML="",e(".outstanding",s[r]).forEach(function(t){var n=document.createElement("label");n.style.cssText="position:absolute;width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;left:"+t.offsetLeft+"px;top:"+(t.offsetTop-s[r].scrollTop)+"px;cursor:pointer;",e.on(n,"click touchstart touchend",function(e){e.stopPropagation(),e.preventDefault(),t.click&&t.click()}),i.appendChild(n)}),void setTimeout(function(){transform_set.running=!1},300))}var f=document.documentElement.clientHeight;"undefined"==typeof o?o=0|t:"number"!=typeof t&&(o=s.indexOf(t)+o),o=Math.min(Math.max(0,o),s.length-1),transform_set.running=!0,s[o].classList.contains("with-cover")?(n.style.cssText=c(0),setTimeout(a,500),setTimeout(function(){n.style.cssText=c(0,document.documentElement.clientWidth)},1e3)):setTimeout(a,0)},transform_set.running=!1,transform_set(0),e.on(window,"resize",function(){window.transform_set(0)}),all_images=[].slice.call(conf.all_images||[]);var a=20,l=[],f=function(){s.forEach(function(t,n){var o=document.createElement("div"),i=t.getAttribute("data-bg");o.style.cssText="position:absolute;width:100%;left:0;top:0;z-index:-1;height:"+(Math.ceil((t.scrollHeight-t.clientHeight)/a)*a+t.clientHeight)+"px;background:"+(i||"none")+";",t.insertBefore(o,t.firstChild),l[n]=e(".run",t).filter(function(t){if("function"==typeof t.set){var e=[],n={begin:function(t){return t.per=t.per||0,e.push(t),this},end:function(t){return t.per=t.per||1,e.push(t),this},then:function(t){return e.push(t),this}},o=t.offsetWidth,i=t.offsetHeight,c=document.documentElement.clientWidth,a=document.documentElement.clientHeight;t.set(n,o,i,c,a),t.filter=function(t){return t>=e[0].per&&t<=e[e.length-1].per},t.run=function(t,n){for(var o=1;o<e.length;o++)if(e[o-1].per<=t&&e[o].per>=t){var i=e[o-1],c=e[o],a=(t-i.per)/(c.per-i.per),l=i.x+(c.x-i.x)*a||0,f=i.y+(c.y-i.y)*a+s[r].scrollTop||0,u=i.opacity+(c.opacity-i.opacity)*a,p=i.scale+(c.scale-i.scale)*a,d=i.rotate+(c.rotate-i.rotate)*a,p=isNaN(p)?1:p;d=isNaN(d)?0:d;var h="-webkit-transform: scale("+p+") translate3d("+l+"px, "+f+"px, 0) rotate("+d+"deg);transform: scale("+p+") translate3d("+l+"px, "+f+"px, 0) rotate("+d+"deg);"+(isNaN(u)?"":"opacity: "+u+";");return void(this.style.cssText=h)}}}return!!t.run})}),conf.ready()},u=0;all_images.forEach(function(t){var e=document.createElement("img");e.onload=e.onerror=function(){u+=1,u===all_images.length&&setTimeout(function(){f()},300)},e.src=t.src}),all_images.length||setTimeout(function(){f()},300);var p,d;e.on(i,"touchstart",function(t){var e=t.touches[0];p=d=e.clientY}).on(i,"touchmove",function(e){var n=e.changedTouches[0],o=n.clientY;t(1.5*(d-o),e),d=o}).on(i,"touchend",function(e){var n=e.changedTouches[0],o=n.clientY;t(p>o?1:-1,e),p=d=o=0}).on(document,"keydown",function(e){switch(e.keyCode){case 32:case 39:case 40:t(a,e);break;case 37:case 38:t(-a,e)}}).on(document,"mousewheel",function(e){t(e.wheelDeltaY<0?a:-a,e)})}();